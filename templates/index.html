<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jira AI Assistant with Oracle DB</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <div class="header">
            <!-- Logo Section -->
            <div class="header-logo">
                <!-- You can replace this with an actual image -->
                <!-- <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" style="width: 100%; height: 100%; object-fit: contain;"> -->
                
                <!-- Or use text/icon as placeholder -->
                <span>AI</span>
            </div>
            
            <!-- Header Content -->
            <div class="header-content">
                <h1>ü§ñ Jira AI Assistant</h1>
                <p>AI-powered Jira queries with Oracle DB order validation & Log Analysis</p>
            </div>
        </div>

        <div class="status-bar">
            <div class="status-indicator"></div>
            <span>‚úÖ Connected to Jira, Oracle DB & Elasticsearch - Ready to process your queries</span>
        </div>

        <div class="main-content">
            <div class="chat-container" id="chatContainer">
                <div class="welcome-message">
                    <h2>Welcome to your Enhanced Jira AI Assistant! üëã</h2>
                    <p>Your Jira, Oracle DB, and Elasticsearch connections are configured and ready. Choose your operation:</p>
                    
                    <div class="feature-tabs">
                        <button class="tab-button active" onclick="showTab('jira')">
                            üìã Jira Queries
                        </button>
                        <button class="tab-button" onclick="showTab('validation')">
                            üîç Order Validation
                        </button>
                        <button class="tab-button" onclick="showTab('security')">
                            üõ°Ô∏è Security Analysis
                        </button>
                        <button class="tab-button" onclick="showTab('logs')">
                            üìä Log Analysis
                        </button>
                    </div>

                    <div class="tab-content" id="jira-tab">
                        <h3>Jira Query Examples</h3>
                        <div class="example-queries">
                            <div class="example-query" onclick="useExampleQuery(this)">
                                <h4>üìã Find Stories by Assignee</h4>
                                <p>Show me all stories assigned to John Smith</p>
                            </div>
                            <div class="example-query" onclick="useExampleQuery(this)">
                                <h4>üêõ Search by Issue Type</h4>
                                <p>Find all bugs in the DEV project</p>
                            </div>
                            <div class="example-query" onclick="useExampleQuery(this)">
                                <h4>üìà Status Filtering</h4>
                                <p>What are the open epics for this sprint?</p>
                            </div>
                            <div class="example-query" onclick="useExampleQuery(this)">
                                <h4>üìÖ Date Range Queries</h4>
                                <p>Show me stories created in the last week</p>
                            </div>
                        </div>
                    </div>

                    <div class="tab-content hidden" id="validation-tab">
                        <h3>Order Validation</h3>
                        <div class="validation-form">
                            <div class="form-group">
                                <label for="orderNumber">Order Number:</label>
                                <input type="text" id="orderNumber" placeholder="e.g., ORD-123456, ORDER_789" maxlength="20">
                            </div>
                            <div class="form-group">
                                <label for="locationCode">Location Code:</label>
                                <input type="text" id="locationCode" placeholder="e.g., NYC, LA, CHI" maxlength="5">
                            </div>
                            <button class="validate-button" onclick="validateOrder()">
                                üîç Validate Order
                            </button>
                        </div>
                    </div>

                    <div class="tab-content hidden" id="security-tab">
                        <h3>Security Impact Analysis</h3>
                        <div class="security-form">
                            <div class="form-group">
                                <label for="issueKey">Issue Key:</label>
                                <input type="text" id="issueKey" placeholder="e.g., PROJ-123, DEV-456" maxlength="20">
                            </div>
                            <button class="analyze-button" onclick="analyzeIssueSecurity()">
                                üõ°Ô∏è Analyze Security Impact
                            </button>
                        </div>
                    </div>

                    <div class="tab-content hidden" id="logs-tab">
                        <h3>Log Analysis Options</h3>
                        <div class="log-analysis-options">
                            <div class="log-option" onclick="showLogForm('3d-secure')">
                                <div class="log-option-icon">üîê</div>
                                <h4>3D Secure</h4>
                                <p>Analyze 3D Secure authentication logs and transactions</p>
                            </div>
                            <div class="log-option" onclick="showLogForm('enforce-xml6')">
                                <div class="log-option-icon">üìã</div>
                                <h4>Enforce XML6</h4>
                                <p>Review XML6 enforcement logs and compliance data</p>
                            </div>
                            <div class="log-option" onclick="showLogForm('full-auth')">
                                <div class="log-option-icon">üîë</div>
                                <h4>Full Auth</h4>
                                <p>Examine full authentication flow logs and results</p>
                            </div>
                            <div class="log-option" onclick="showLogForm('payment-gateway')">
                                <div class="log-option-icon">üí≥</div>
                                <h4>Payment Gateway</h4>
                                <p>Analyze payment gateway transaction logs</p>
                            </div>
                            <div class="log-option" onclick="showLogForm('fraud-detection')">
                                <div class="log-option-icon">üö®</div>
                                <h4>Fraud Detection</h4>
                                <p>Review fraud detection system logs and alerts</p>
                            </div>
                            <div class="log-option" onclick="showLogForm('api-gateway')">
                                <div class="log-option-icon">üåê</div>
                                <h4>API Gateway</h4>
                                <p>Monitor API gateway access and performance logs</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="input-container">
                <div class="input-wrapper">
                    <textarea id="queryInput" placeholder="Ask me about your Jira issues, validate orders, or analyze security... Type your question here!" rows="1"></textarea>
                </div>
                <button class="send-button" onclick="sendQuery()" id="sendButton">
                    ‚û§
                </button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
